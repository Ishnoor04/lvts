{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\lvts-tracker\\\\src\\\\component\\\\viewLeave\\\\viewLeave.js\";\nimport React, { useEffect, useState } from 'react';\nimport Header from '../layout/Header/Header';\nimport { useNavigate } from 'react-router-dom';\n\nconst ViewLeave = () => {\n  let history = useNavigate();\n  const [leaves, setleaves] = useState();\n\n  const getleaves = async () => {\n    let res = await fetch(\"http://localhost:5000/leaveapi/getleaves\", {\n      method: \"GET\"\n    });\n    res = await res.json(); //console.log(res.message)\n\n    setleaves(res.message);\n  };\n\n  useEffect(() => {\n    getleaves();\n  }, []);\n\n  const changehandle = async (e, id, email) => {\n    let res = await fetch(\"http://localhost:5000/leaveapi/statusupdate\", {\n      method: \"PUT\",\n      body: JSON.stringify({\n        id,\n        status: e.target.value,\n        email\n      }),\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    });\n    res = await res.json();\n    getleaves();\n  };\n\n  const logout = () => {\n    alert(\"Redirecting back to Login Form !!\");\n    history(\"/login1\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between px-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \"ALL LEAVES\"), /*#__PURE__*/React.createElement(\"h6\", {\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Logout\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    class: \"table-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Id\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"Contact\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"LeaveType\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"Start date\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"End date\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"Days\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 3\n    }\n  }, leaves ? leaves.map((leave, index) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, leave.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, leave.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, leave.address), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, leave.contact), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, leave.typeleave), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, leave.startdate), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, leave.enddate), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, leave.status), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, leave.days), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      onChange: e => changehandle(e, leave._id, leave.email),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"accept\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, \"Accept\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"reject\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, \"Reject\"))));\n  }) : null)));\n};\n\nexport default ViewLeave;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/lvts-tracker/src/component/viewLeave/viewLeave.js"],"names":["React","useEffect","useState","Header","useNavigate","ViewLeave","history","leaves","setleaves","getleaves","res","fetch","method","json","message","changehandle","e","id","email","body","JSON","stringify","status","target","value","headers","logout","alert","map","leave","index","name","address","contact","typeleave","startdate","enddate","days","_id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState } from 'react';\r\nimport Header from '../layout/Header/Header';\r\nimport {useNavigate} from 'react-router-dom'\r\n\r\n\r\n\r\nconst ViewLeave= () => {\r\n  let history = useNavigate();\r\n\r\nconst [leaves,setleaves] = useState()\r\n  const getleaves = async() =>{\r\n    let res = await fetch(\"http://localhost:5000/leaveapi/getleaves\", {method:\"GET\"})\r\n       \r\n    res = await res.json()\r\n    //console.log(res.message)\r\n    setleaves(res.message)\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    getleaves();\r\n  },[])\r\n\r\n  const changehandle=async (e,id,email) =>{\r\n    \r\n    let res = await fetch(\"http://localhost:5000/leaveapi/statusupdate\", {method:\"PUT\", body: JSON.stringify({id, status: e.target.value,email}),\r\n     headers: {\r\n       \"content-type\" : \"application/json\"\r\n     }\r\n  })\r\n       \r\n    res = await res.json()\r\n    getleaves()\r\n  }\r\n  const logout = () =>{\r\n    alert(\"Redirecting back to Login Form !!\")\r\n    history(\"/login1\");\r\n  }\r\n\r\n    \r\n    return (\r\n        <div>\r\n          <Header/>\r\n          <br/>\r\n          <div className = \"d-flex justify-content-between px-2\">\r\n          <h3 >ALL LEAVES</h3>\r\n          <h6 onClick={logout}>Logout</h6>\r\n          </div>\r\n          \r\n\r\n           <br/>\r\n          <table class=\"table\" >\r\n  <thead class=\"table-dark\">\r\n    <tr>\r\n      <th scope=\"col\">Id</th>\r\n      <th scope=\"col\">Name</th>\r\n      <th scope=\"col\">Email</th>\r\n      <th scope=\"col\">Address</th>\r\n      <th scope=\"col\">Contact</th>\r\n      <th scope=\"col\">LeaveType</th>\r\n      <th scope=\"col\">Start date</th>\r\n      <th scope=\"col\">End date</th>\r\n      <th scope=\"col\">Status</th>\r\n      <th scope=\"col\">Days</th>\r\n      <th scope=\"col\">Action</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    {leaves? \r\n    leaves.map((leave, index) => {\r\n     return <tr>\r\n        <td>\r\n          {index+1}\r\n        </td>\r\n        <td>\r\n          {leave.name}\r\n        </td>\r\n        <td>\r\n          {leave.email}\r\n        </td>\r\n        <td>\r\n          {leave.address}\r\n        </td>\r\n        <td>\r\n          {leave.contact}\r\n        </td>\r\n        <td>\r\n          {leave.typeleave}\r\n        </td>\r\n        <td>\r\n          {leave.startdate}\r\n        </td>\r\n        <td>\r\n          {leave.enddate}\r\n        </td>\r\n        <td>\r\n          {leave.status}\r\n        </td>\r\n        <td>\r\n          {leave.days}\r\n        </td>\r\n        <td>\r\n          <select onChange={e => changehandle(e, leave._id,leave.email)}>\r\n            <option value=\"accept\">Accept</option>\r\n            <option value=\"reject\">Reject</option>\r\n          </select>\r\n        \r\n        </td>\r\n\r\n      </tr>\r\n    })\r\n    :null}\r\n  </tbody>\r\n</table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewLeave"]},"metadata":{},"sourceType":"module"}